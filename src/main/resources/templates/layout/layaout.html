<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" 
xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="head">
<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
 
<title th:text="${titulo}"></title>
<!-- Font Awesome -->
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<!-- Material Design Bootstrap -->
<link rel="stylesheet" th:href="@{/css/mdb.min.css}" />
<!-- Estilos Jquery Ui -->
<link rel="stylesheet" type="text/css"
	th:href="@{/css/jquery-ui.min.css}" />
<!-- Estilos propios -->
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
<!--  Favicon  -->
<link rel="icon" th:href="@{/assets/favicon.ico}" type="image/x-icon">

</head>

<body>

	<!-- Inicio Nav -->
	<header th:fragment="header">
		<nav class="navbar navbar-expand-lg navbar-dark indigo darken-4 d-flex">
			<a class="navbar-brand" href="#"> <i class="fa fa-cubes fa-lg"
				aria-hidden="true"></i>
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarNav" aria-controls="navbarNav"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				
				
				
				<ul class="navbar-nav">
					<li class="nav-item"><a class="nav-link" href="#">Home</a></li>
					<li class="nav-item"><a class="nav-link" th:href="@{/listar}">Clientes</a></li>
				</ul>
				
			<!--  Dropdown User not Logged -->
				<ul class="navbar-nav ml-auto mr-5" sec:authorize="!isAuthenticated()">
					<li class="nav-item">
					<a class="nav-link" th:href="@{/login}">
					Login
					<i class="fas fa-sign-in-alt"></i>
					</a>
					</li>					
				</ul>
			<!-- Dropdorn user not Logged fin  -->			
				
				
				<!--  Dropdown User Logged -->
				<ul class="navbar-nav ml-auto" sec:authorize="isAuthenticated()">
				<li class="nav-item dropdown">
					<!--  Trigger -->
					<a class="nav-link dropdown-toggle" 
					id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" 
					aria-expanded="false">				
					<span sec:authentication="name"></span>
					</a>
					<!--  Trigger FIN -->
					
					<!--  DROP DOWN OPTIONS -->				
					<div class="dropdown-menu dropdown-menu-right">																
					<form th:action="@{/logout}" method="post" id="logoutForm" class="w-50">					
					<button type="submit" class="dropdown-item"
					onclick="document.getElementById('logoutForm').submit();">
					Cerrar Session
					<i class="fas fa-power-off"></i>
					</button>					
					</form>
					</div>				
					<!--  DROP DOWN OPTIONS FIN-->							
				</li>
				</ul>
				<!-- Dropdorn user Logged fin  -->

			</div>
		</nav>
	</header>
	<!-- Fin nav  -->


	<!-- notification success -->
	<div th:fragment="notification-success"
	class="d-flex justify-content-end text-light mr-3 mt-2">
		<div role="alert" aria-live="assertive" aria-atomic="true"
			class="toast bg-success z-index animated slideInUp"
			data-autohide="false">
			<button type="button" class="mb-1 mr-2 text-white close"
				data-dismiss="toast" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<div class="toast-body">
				<div class="row">
					<div class="col-3">
						<i class="far fa-3x fa-check-circle mt-1"></i>
					</div>
					<div class="col-9">
						<p class="h5 text-center" th:text="${success}"></p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- notificatios success  -->



	<!-- notification danger -->
	<div th:fragment="notification-danger"
		class="d-flex justify-content-end text-light
	 mr-3 mt-2">
		<div role="alert" aria-live="assertive" aria-atomic="true"
			class="toast bg-danger z-index animated slideInUp"
			data-autohide="false">
			<button type="button" class="mb-1 mr-2 text-white close"
				data-dismiss="toast" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<div class="toast-body">
				<div class="row">
					<div class="col-3">
						<i class="fas fa-3x fa-trash mt-1"></i>
					</div>
					<div class="col-9">
						<p class="h5 text-center" th:text="${danger}"></p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- notificatios danger -->


	<!-- notification Error -->
	<div th:fragment="notification-error"
		class="d-flex justify-content-end text-light
	 mr-3 mt-2">
		<div role="alert" aria-live="assertive" aria-atomic="true"
			class="toast bg-danger z-index animated slideInUp"
			data-autohide="false">
			<button type="button" class="mb-1 mr-2 text-white close"
				data-dismiss="toast" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<div class="toast-body">
				<div class="row">
					<div class="col-3">
						<i class="fa fa-3x fa-exclamation-triangle mt-1"></i>
					</div>
					<div class="col-9">
						<p class="h5 text-center" th:text="${error}"></p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- notificatios Error -->




	<footer th:fragment="footer" class="text-center mb-1 mt-5 fixed">

		Copyright &copy;
		<script>
			document.write(new Date().getFullYear());
		</script>
		All rights reserved


		<!-- JQuery -->
		<script th:src="@{/js/jquery.js}"></script>
		<!-- Bootstrap tooltips -->
		<script th:src="@{/js/popper.min.js}"></script>
		<!-- Bootstrap core JavaScript -->
		<script th:src="@{/js/bootstrap.min.js}"></script>
		<!-- MDB core JavaScript -->
		<script th:src="@{/js/mdb.min.js}"></script>
		<!-- Jquery ui -->
		<script th:src="@{/js/jquery-ui.min.js}"></script>
		<!-- Scripts -->
		<script th:src="@{/js/scripts.js}"></script>

	</footer>

</body>

</html>